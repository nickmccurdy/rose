doctype html
html(lang='en', ng-app='rose', ng-controller='SearchController')
  head
    meta(charset='utf-8')
    title Rose
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    // styles
    link(rel='stylesheet', href='/bower_components/pure/pure-min.css')
    link(rel='stylesheet', href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro|Source+Serif+Pro')
    link(rel='stylesheet', href='/client.css')
  body.container
    // header
    h1 Rose
    p An interactive, technical, and openly editable Rosetta Stone for developers.

    // search form
    form.pure-form(role='search', ng-submit='updateResults()')
      input.pure-input-rounded(type='search', ng-model='query', placeholder='Search for features, technologies, or code snippets', ng-change='updateResults()', autofocus)
      button.pure-button.pure-button-primary(type='submit') Search

    // results
    .search-results
      .card(ng-repeat='feature in features')
        h2.panel-title(ng-bind-html='feature.name | highlight:query')
        table.pure-table.pure-table-striped
          tr(ng-repeat='example in feature.examples')
            td(ng-bind-html='example.technology | highlight:query')
            td: pre(ng-repeat='snippet in listify(example.snippets)')
              code(ng-bind-html='snippet | highlight:query')
      h2.text-muted(ng-if='!features || features.length === 0') No results

    // footer
    hr
    footer
      | &copy; 2014 
      a(href='http://nicolasmccurdy.com/') Nicolas McCurdy
      a.pull-right(href='https://github.com/nicolasmccurdy/rose' target='_blank').
        GitHub Repository

    // scripts
    script(src='/bower_components/angular/angular.js')
    script(src='/client.js')
